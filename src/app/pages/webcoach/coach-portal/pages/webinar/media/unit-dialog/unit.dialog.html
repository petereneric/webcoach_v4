<div class="dialog-container" style="">
  <app-dialog-header [cTitle]="aUnit.cName"></app-dialog-header>
  <div class="flex" style="">
    <app-dialog-nav [lNavItems]="lNavItems" (outputClick)="onClick_NavItem($event)"></app-dialog-nav>
    <main class="section" style="width: 100%; height: 100%">

      <!-- general -->
      <section *ngIf="aNavItemSelected.id === 0">
        <app-input #cpInputName (outputChange)="onInput($event)" [cTitle]="'Titel'" [cInput]="aUnit?.cName ?? ''" [nMax]="50"
                   [cHelp]="'Wähle einen kurzen Titel der diese Kurseinheit passend beschreibt. Wenn es Dir schwerfällt einen passenden Titel zu finden, kann es sinnvoll sein die Inhalte in zwei oder mehr Kurseinheiten aufzuteilen und diese damit besser Betiteln zu können.'"></app-input>
        <div class="spv-1"></div>
        <app-input #cpInputDescription (outputChange)="onInput($event)" [cTitle]="'Beschreibung'" [cInput]="aUnit?.cDescription ?? ''" [nMax]="500"
                   [cHelp]="'Eine kurze Beschreibung hilft Kursteilnehmern die wichtigsten Informationen zu dieser Kurseinheit zu lesen.'"></app-input>
      </section>

      <!-- video -->
      <section *ngIf="aNavItemSelected.id === 1 && aUnit.id > 0" class="flex-vertical">
        <p class="ts-standard tc-light">{{hasContent ? 'Video vorhanden' : 'Kein Video vorhanden'}}</p>
        <div class="spv-2"></div>
        <div *ngIf="hasContent" class="flex-vertical" style="gap: 1rem; margin-right: auto">
          <button (click)="onClick_DownloadVideo()" class="b-1-light">VIDEO HERUNTERLADEN</button>
          <button (click)="onClick_DeleteVideo()" class="b-2-light">VIDEO LÖSCHEN</button>
        </div>
        <div *ngIf="!hasContent" class="flex-vertical" style="gap: 1rem; margin-right: auto">
          <button (click)="vVideoUpload.click()" class="b-1-light">VIDEO HOCHLADEN (MP4)</button>
          <input style="display: none" type="file" (change)="onClick_UploadVideo(vVideoUpload.files)" #vVideoUpload>
        </div>
      </section>

      <!-- material -->
      <section *ngIf="aNavItemSelected.id === 2 && aUnit.id > 0">
        <div class="flex-vertical" style="gap: 1rem; max-height: 17.5rem; overflow-y: auto;">
            <div *ngFor="let aUnitMaterial of lUnitMaterials; let nIndex = index">
              <div class="flex align-items-center pointer bo-light p-1" style="border-radius: 0.5rem">
                <p (click)="onClick_UnitMaterial(aUnitMaterial)" class="ts-standard tc-light ml-1">{{aUnitMaterial.cName}}</p>
                <mat-icon (click)="onClick_DeleteMaterial(aUnitMaterial, nIndex)" class="is-s ic-light" style="margin-left: auto" fontIcon="delete"></mat-icon>
              </div>
            </div>
            <div (click)="vMaterialInput.click()" class="flex align-items-center pointer bo-light p-1" style="border-radius: 0.5rem">
              <mat-icon class="is-s ic-light" fontIcon="add"></mat-icon>
              <p class="ts-standard tc-light ml-1">Material hinzufügen</p>
              <input style="display: none" type="file" (change)="onClick_AddMaterial(vMaterialInput.files)" #vMaterialInput>
            </div>

        </div>

      </section>

      <!-- material -->
      <section *ngIf="aNavItemSelected.id === 3 && aUnit.id > 0">
        <div class="flex-vertical" style="gap: 1rem; margin-right: auto">
          <button (click)="onClick_DeleteUnit()" class="b-1-light">KURSEINHEIT LÖSCHEN</button>
        </div>
      </section>

    </main>
  </div>
  <app-dialog-buttons [lButtons]="lButtons" (outputClick)="onClick_Button($event)" style="margin-top: auto"></app-dialog-buttons>
</div>
